<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Access Restricted</title>
  <meta name="description" content="If you believe this is a mistake, try signing in again or contact an admin for access.">
  <meta name="keywords" content="Open Source,Learning,GitHub,HouseLearning,HTML,CSS,JS,Coding,Math,Games,Programs,Safe,Resource,Inaccessible,HouseLearning-Error-Page">
  <meta name="author" content="HouseLearning">
  <meta name="robots" content="noindex" />
  <script src="/feedback.js"></script>
  <script src="../nav.js" defer></script>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">HL</div>
        <div>
          <div class="brand-name">HouseLearning</div>
          <div class="brand-tagline">Learn anything — fast, free, focused</div>
        </div>
      </div>

      <nav id="site-nav">
        <a href="/home">Home</a>
        <a href="https://houselearning.org/safe-library">SafeLibrary</a>
        <a href="https://houselearning.org/home/about">About</a>
        <a href="https://apply.houselearning.org">Apply</a>
        <a href="https://github.com/houselearning">View on GitHub</a>
        <a class="button btn-ghost" href="https://houselearning.org/auth/">Log in</a>
        <a class="button btn-primary" href="https://houselearning.org/auth/">Sign up</a>
      </nav>
      <button class="nav-toggle button btn-ghost" type="button" aria-label="Open menu" aria-controls="site-nav"
        aria-expanded="false">Menu</button>
    </header>

    <main class="meta-error">
      <div class="card" role="alert" aria-live="polite">
        <span class="badge" aria-hidden="true">Access Restricted</span>
        <h1>This resource is currently unavailable, inaccessible, or you don’t have the required permissions.</h1>
        <p>If you believe this is a mistake, try signing in again or contact an admin for access.</p>

        <div class="actions">
          <a class="button btn-primary" href="/" id="homeBtn">Go to Home</a>
          <button class="button btn-ghost" id="retryBtn" type="button">Retry</button>
          <a class="button btn-ghost" href="mailto:support@example.com?subject=Access%20Request&body=URL:%20{{location}}">Contact Support</a>
        </div>

        <details>
          <summary>Technical info</summary>
          <p>Status: <code id="status">403 / 404</code></p>
          <p>URL: <code id="url"></code></p>
          <p>Timestamp: <code id="ts"></code></p>
          <p>Request ID: <code id="reqid">auto</code></p>
        </details>

        <p class="meta-tip">Tip: If you’re using multiple accounts, make sure you’re signed into the right one.</p>
      </div>
    </main>

    <footer>
      <div class="footer-grid">
        <div>
          <div class="footer-name">HouseLearning</div>
          <div class="footer-copy">© HouseLearning — free learning for curious people</div>
        </div>
        <div class="footer-links">
          <a href="https://houselearning.org/home/about">About</a>
          <a href="https://github.com/houselearning/apply?tab=readme-ov-file#available-volunteer-jobs">Careers</a>
        </div>
      </div>
    </footer>
  </div>

  <script>
    // Fill diagnostic fields
    (function () {
      const q = new URLSearchParams(location.search);
      const status = q.get("status") || (document.referrer ? "403" : "404");
      const reqid = q.get("rid") || Math.random().toString(36).slice(2, 10);
      document.getElementById("status").textContent = status;
      document.getElementById("url").textContent = location.href;
      document.getElementById("ts").textContent = new Date().toISOString();
      document.getElementById("reqid").textContent = reqid;

      // Retry just reloads (kept simple)
      document.getElementById("retryBtn").addEventListener("click", () => location.reload());

      // Replace support email body placeholder with actual location
      for (const a of document.querySelectorAll('a[href^="mailto:"]')) {
        a.href = a.href.replace("%7B%7Blocation%7D%7D", encodeURIComponent(location.href));
      }

      document.getElementById("homeBtn").href = "https://houselearning.org/";
    })();
  </script>
</body>
</html>
